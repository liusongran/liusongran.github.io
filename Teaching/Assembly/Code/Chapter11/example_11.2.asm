DSEG	SEGMENT

STULST	STRUC
SNUB	DW		0
SNAM	DB		'        ';8个空格
SCMPT	DB		0
SFLAG	DB		0
SMATH	DB		0
SPHCS	DB		0
SPHLY	DB		0
TOTL	DW		0
SAVER	DB		0
STULST	ENDS

CLNT	DB		5
ECOUNT 	DW		6
S001	STULST	<1,'JERRY',95,89,98,93,80,,>
S002	STULST	<2,'TOM',95,90,95,90,90,,>
S003	STULST	<3,'ASK',94,93,97,90,90,,>
S004	STULST	<4,'ALEX',78,67,89,76,90,,>
S005	STULST	<5,'ROSE',76,80,90,69,95,,>
S006	STULST	<6,'NSFC',60,68,69,80,90,,>
TOTAL	DW		0
DSEG	ENDS

CSEG	SEGMENT
		ASSUME 	CS:CSEG, DS:DSEG
START:	MOV		AX, DSEG
		MOV		DS, AX
		LEA		BX, S001
		XOR		CH, CH
		MOV		DI, ECOUNT
STAR0:	MOV		CL, CLNT
		XOR		AX, AX
		MOV		SI, 10
STAR1:	MOV		DL, [BX][SI]
		XOR		DH, DH
		ADD		AX, DX
		INC		SI
		DEC		CL
		JNZ		STAR1
		MOV		[BX].TOTL, AX
		DIV		CLNT
		MOV		[BX].SAVER, AL
		CMP		AL, 85
		JB		DN2
		INC		CH
DN2:	ADD		BX, 18
		DEC		DI
		JNZ		STAR0
		MOV		TOTAL, CX
		MOV		AH, 4CH
		INT		21H
CSEG	ENDS
		END		START












;例：定义和预置结构
;STR_D	STRUC
;FN1		DB	0			;可替代型
;FN2		DB	5,7			;不可替代型
;FN3		DB	3 DUP(?)	;不可替代型
;FN4		DB	'ABCDEE'	;可替代型
;STR_D	ENDS

;DATA	SEGMENT
;STR1	STR_D	<1,,,'ABCD'>
;STR2	STR_D	<2,,,'AAAAAA'>
;STR3	STR_D	<,,,'SSSSSQQQQQ'>
;DATA	ENDS
